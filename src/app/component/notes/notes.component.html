<div>
  <div fxLayoutAlign="center center" style="margin-top:80px; " (click)="show=!show" *ngIf="!show">
    <mat-card fxFlex="50">
      <div>Take a Note ... </div>
    </mat-card>
  </div>
  <div fxLayout="row" fxLayoutAlign="center center" style="margin-top:50px" *ngIf="show">
    <mat-card>
      <div style="width: 400px; height: 100px;">
        <mat-card-title>
          <input type="text" data-text='title' placeholder="Title" name="title" [(ngModel)]="model.title" matInput style="border: none;outline: none">
        </mat-card-title>

        <mat-card-subtitle>
          <input type="text" data-text='description' placeholder="Description..." name="description" [(ngModel)]="model.description"
            matInput style="border: none;outline: none">
        </mat-card-subtitle>


        <button type="submit" (click)="createnote()" mat-raised-button color="">Done</button>
      </div>
    </mat-card>
  </div>
  <!-- ------------------ pin div---------------------- -->

  <div fxLayoutAlign="center center" class="class-container">

    <div fxLayout="row wrap" fxLayoutAlign="center center" fxFlex="900px" fxLayoutGap="20px">
      <div *ngFor="let note of notes">
        <div *ngIf="note.trash===false && note.archive===false && note.pin===true">
          <!-- display image on note -->
          <div *ngIf="note.image">
            <img [src]="note.imageString"/>
            <mat-icon (click)="deleteImage(note)">close</mat-icon>
          </div> 
          
          <mat-card fxFlex="265px" [style.background]="note.color">
            <div (click)="updateNote(note,'false','pin')" style="margin-left: 200px;">
              <img [src]="pinSVG">

            </div>
            
            <mat-card-title><b>{{note.title}}</b></mat-card-title>
            <mat-card-subtitle>{{note.description}}</mat-card-subtitle>
           
            <!-- ---------reminder chip------------ -->
            
            <div *ngIf="note.reminder!=null">
              <div mat-menu-item>
                <mat-chip-list>
                  <mat-chip selected="true" class="chip">
                    <label>{{note.reminder | date:'MMM dd,y, hh:mm a'}}</label>
                    <mat-icon (click)="updateNote(note,'null', 'reminder')">close</mat-icon>

                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>

            <!-----------------label chip-------------------->

            <div *ngIf="note.labels!=null">
              <div *ngFor="let label of note.labels">
                <div mat-menu-item>
                  <mat-chip-list>
                    <mat-chip selected="true">                      
                     
                      <label>{{label.labelName}}</label>
                      <mat-icon (click)="updateNote(label,'false','close')">close</mat-icon>
                    </mat-chip>
                  </mat-chip-list>
                </div>
              </div>
            </div>



<!-- ------------trashnote------------ -->

            <div fxLayout="row" fxLayoutAlign="end end">
              <mat-menu #appMenu="matMenu">
                <button mat-menu-item (click)="updateNote(note,'true', 'trash')">Delete note</button>
 <div>
                  <button type="submit" mat-menu-item [matMenuTriggerFor]="label" (click)="readLabels()">
                    <span>change label</span>
                  </button>
                </div>
                <mat-menu #label="matMenu">

                  <div fxLayout="column" fxLayoutGap="20px">
                    <div>
                      <b>label note</b>
                    </div>
                    <div>
                      <mat-form-field>
                        <input matInput placeholder="Search name">
                      </mat-form-field>
                    </div>
                    <div *ngIf="labels!=null">
                      <div *ngFor="let label of labels">
                        <label>
                          <input type="checkbox" name="labels" value="{{label.labelName}}" [(ngModel)]="label.checked" (ngModelChange)="addLabelOnNote(label.labelId, note.noteId,$event)"
                          /> {{label.labelName}}
                        </label>
                      </div>
                    </div>
                  </div>
                </mat-menu>



              </mat-menu>
              <mat-menu #touch="matMenu">
                <button mat-menu-item (click)="reminder(note,'Today')">Later Today 8PM</button>
                <button mat-menu-item (click)="reminder(note,'Tomorrow')">Tomorrow</button>
                <button mat-menu-item (click)="reminder(note,'NextWeek')">Next Week</button>
              </mat-menu>



<!-- 
              <input type='file' (change)="readUrl($event)">
              <img [src]="url"> -->

              <div class="form-group">
                <button mat-icon-button>
                  <mat-icon for="file">photo</mat-icon>
               
                <input type="file" id="file" (change)="handleFileInput($event.target.files,note.noteId)">

              </button>
              </div>



             <!-- <div>
                    <button mat-icon-button>
                      <mat-icon>photo</mat-icon>
                    </button>
                  </div>  -->


              <!-- collaborator -->

              <div fxLayout="row" fxLayoutAlign="start stretch">
                <button mat-icon-button (click)="collaboratorDialogBox(note)">
                  <mat-icon>group_add</mat-icon>
                </button>
              </div>


              <!-- color open -->
              <div>
                <button mat-icon-button [matMenuTriggerFor]="color" class="images">
                  <mat-icon>color_lens</mat-icon>
                </button>
                <mat-menu #color="matMenu">

                  <div>
                    <a *ngFor="let color of colors">
                      <img src="{{color.path}}" (click)="note.color=color.color;trashnote(note,note.status)">
                    </a>
                  </div>
                </mat-menu>
              </div>


              <div fxLayout="row" fxLayoutAlign="start stretch">
                <button mat-icon-button [matMenuTriggerFor]="touch">
                  <mat-icon>touch_app</mat-icon>
                </button>
              </div>

              <div>
                <button mat-icon-button (click)="updateNote(note,'true', 'archive')">
                  <mat-icon>archive</mat-icon>
                </button>
              </div>


              <div>
                <button mat-icon-button [matMenuTriggerFor]="appMenu">
                  <mat-icon>more_vert</mat-icon>
                </button>
              </div>
            </div>
          </mat-card>
        </div>
      </div>

    </div>
  </div>



  <!------------------------- note div------------ -->
  <div fxLayoutAlign="center center" class="class-container">

    <div fxLayout="row wrap" fxLayoutAlign="center center" fxFlex="900px" fxLayoutGap="20px">
      <div *ngFor="let note of notes">
        <div *ngIf="note.trash===false && note.archive===false && note.pin===false">
          <mat-card fxFlex="265px" [style.background]="note.color">
            <div (click)="updateNote(note,'true','pin')" style="margin-left: 165px;">
              <img src="{{pinSVG}}">

            </div>
            <mat-card-title>
              <b>{{note.title}}</b>
            </mat-card-title>
            <mat-card-subtitle>{{note.description}}</mat-card-subtitle>


            
            <div *ngIf="note.reminder!=null">
              <div mat-menu-item>
                <mat-chip-list>
                  <mat-chip selected="true" class="chip">
                    <label>{{note.reminder | date:'MMM dd,y, hh:mm a'}}</label>
                    <mat-icon (click)="updateNote(note,'null', 'reminder')">close</mat-icon>

                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>

<div *ngIf="note.labels!=null">
              <div *ngFor="let label of note.labels">
                <div mat-menu-item>
                  <mat-chip-list>
                    <mat-chip selected="true">
                      
                      <label>{{label.labelId}}</label>
                      <label>{{label.labelName}}</label>
                      <mat-icon (click)="labelName(label,'false')">close</mat-icon>
                    </mat-chip>
                  </mat-chip-list>
                </div>
              </div>
            </div>


            <div fxLayout="row" fxLayoutAlign="end end">
              <mat-menu #appMenu="matMenu">
                <button mat-menu-item (click)="updateNote(note,'true', 'trash')">Delete note</button>
 <div>
                  <button type="submit" mat-menu-item [matMenuTriggerFor]="label" (click)="readLabels()">
                    <span>change label</span>
                  </button>
                </div>
                <mat-menu #label="matMenu">

                  <div fxLayout="column" fxLayoutGap="20px">
                    <div>
                      <b>label note</b>
                    </div>
                    <div>
                      <mat-form-field>
                        <input matInput placeholder="Search name">
                      </mat-form-field>
                    </div>
                    <div *ngIf="labels!=null">
                      <div *ngFor="let label of labels">
                        <label>
                          <input type="checkbox" name="labels" value="{{label.labelName}}" [(ngModel)]="label.checked" (ngModelChange)="addLabelOnNote(label.labelId, note.noteId,$event)"
                          /> {{label.labelName}}
                        </label>
                      </div>
                    </div>
                  </div>
                </mat-menu>



              </mat-menu>



              <mat-menu #touch="matMenu">
                <button mat-menu-item (click)="reminder(note,'Today')">Later Today 8PM</button>
                <button mat-menu-item (click)="reminder(note,'Tomorrow')">Tomorrow</button>
                <button mat-menu-item (click)="reminder(note,'NextWeek')">Next Week</button>
              </mat-menu>
              <div>
                <button mat-icon-button [matMenuTriggerFor]="color" class="images">
                  <mat-icon>color_lens</mat-icon>
                </button>
                <mat-menu #color="matMenu">

                  <div>
                    <a *ngFor="let color of colors">
                      <img src="{{color.path}}" (click)="note.color=color.color;trashnote(note,note.status)">
                    </a>
                  </div>
                </mat-menu>
              </div>
              <div>
                <button mat-icon-button [matMenuTriggerFor]="touch">
                  <mat-icon>touch_app</mat-icon>
                </button>
              </div>
              <div>
                <button mat-icon-button (click)="archivenote(note,'true')">
                  <mat-icon>archive</mat-icon>
                </button>
              </div>


              <div>
                <button mat-icon-button [matMenuTriggerFor]="appMenu">
                  <mat-icon>more_vert</mat-icon>
                </button>
              </div>

            </div>
          </mat-card>
        </div>

      </div>

    </div>
  </div>





</div>
